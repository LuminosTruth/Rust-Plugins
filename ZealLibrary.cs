using System;
using System.Collections.Generic;
using Oxide.Core.Plugins;
using UnityEngine;
using System.Globalization;
using System.Linq;
using ConVar;
using Facepunch.Extend;
using Oxide.Core;
using Oxide.Game.Rust.Cui;
using Color = UnityEngine.Color;

namespace Oxide.Plugins
{
    [Info("ZealLibrary", "Kira", "1.0.0")]
    [Description("Микро меню для сервера Rust")]
    class ZealLibrary : RustPlugin
    {
        #region [Reference] / [Запросы]

        [PluginReference] Plugin ImageLibrary, ZealMicroMenu;
 
        private string GetImg(string name)  
        {
            return (string) ImageLibrary?.Call("GetImage", name) ?? "";
        } 

        #endregion  
   
        #region [Dictionary/Vars] / [Словари/Переменные]

        private string Sharp = "assets/content/ui/ui.background.tile.psd";
        private string Blur = "assets/content/ui/uibackgroundblur.mat";
        private string radial = "assets/content/ui/ui.background.transparent.radial.psd";
        private string regular = "robotocondensed-regular.ttf";

        public string Layer = "BoxLibrary";

        #endregion

        #region [DrawUI] / [Показ UI]

        void DrawUI_Library(BasePlayer player)
        {
            CuiElementContainer Gui = new CuiElementContainer();
            CuiHelper.DestroyUi(player, Layer);

            Gui.Add(new CuiPanel
            {
                CursorEnabled = true,
                Image =
                {
                    Color = HexToRustFormat("#000000F9"),
                    Material = Blur,
                    Sprite = radial
                },
                RectTransform =
                {
                    AnchorMin = "0 0",
                    AnchorMax = "1 1"
                }
            }, "Overlay", Layer);

            Gui.Add(new CuiElement
            {
                Name = "Zag",
                Parent = Layer,
                Components =
                {
                    new CuiTextComponent
                    {
                        Align = TextAnchor.MiddleCenter,
                        Color = HexToRustFormat("#EAEAEAFF"),
                        FontSize = 40,
                        Text = "БИБЛИОТЕКА ИЗОБРАЖЕНИЙ",
                        Font = "robotocondensed-regular.ttf"
                    },
                    new CuiRectTransformComponent
                    {
                        AnchorMin = "0 0.9213709",
                        AnchorMax = "1 1"
                    },
                    new CuiOutlineComponent
                    {
                        Color = HexToRustFormat("#000000AE"),
                        Distance = "0.5 0.5"
                    }
                }
            });

            CuiHelper.AddUi(player, Gui);
        }

        private void DrawUI_Sprites(BasePlayer player, int page)
        {
            var gui = new CuiElementContainer();
            var layerSprite = "Box_Sprites";
            CuiHelper.DestroyUi(player, layerSprite);

            gui.Add(new CuiPanel
            { 
                CursorEnabled = false,
                Image =
                {
                    Color = "0 0 0 0"
                },
                RectTransform =
                {
                    AnchorMin = "0 0",
                    AnchorMax = "1 1"
                }
            }, Layer, layerSprite);

            gui.Add(new CuiButton
            {
                Button =
                {
                    Command = "close.library",
                    Color = "0 0 0 0",
                    Close = layerSprite
                },
                Text =
                {
                    Text = " "
                },
                RectTransform =
                {
                    AnchorMin = "0 0",
                    AnchorMax = "1 1"
                }
            }, layerSprite, "ButtonCloseGUI");

            gui.Add(new CuiButton
            {
                Button =
                {
                    Command = $"page {page - 1}",
                    Color = "0 0 0 0"
                },
                Text =
                {
                    Align = TextAnchor.MiddleCenter,
                    FontSize = 25,
                    Text = "<"
                },
                RectTransform =
                {
                    AnchorMin = "0 0",
                    AnchorMax = "0.02 1"
                }
            }, layerSprite, "Page--");

            gui.Add(new CuiButton
            {
                Button =
                {
                    Command = $"page {page + 1}",
                    Color = "0 0 0 0"
                },
                Text =
                {
                    Align = TextAnchor.MiddleCenter,
                    FontSize = 25,
                    Text = ">"
                },
                RectTransform =
                {
                    AnchorMin = "0.98 0",
                    AnchorMax = "1 1"
                }
            }, layerSprite, "Page++");

            int x = 0, y = 0, z = 0, num = 1;
            foreach (var sprite in Sprites.Skip(200 * page).Take(200))
            {
                const double ident = 0.035;
                if (x >= 25)
                {
                    x = 0;
                    y++;
                }

                if (y >= 8)
                {
                    z++;
                }

                gui.Add(new CuiElement
                {
                    Name = "BG" + num,
                    Parent = layerSprite,
                    Components =
                    {
                        new CuiRawImageComponent
                        {
                            Color = "1 1 1 1",
                            Png = GetImg("BGSprite"),
                            FadeIn = 0.1f + (num * 0.1f)
                        },
                        new CuiRectTransformComponent
                        {
                            AnchorMin = $"{0.06145836 + (x * ident)} {0.814815 - (y * 0.1)}",
                            AnchorMax = $"{0.09062503 + (x * ident)} {0.866666 - (y * 0.1)}"
                        }
                    }
                });

                gui.Add(new CuiElement
                {
                    Name = "Sprite" + num,
                    Parent = layerSprite,
                    Components =
                    {
                        new CuiImageComponent
                        {
                            Color = "1 1 1 1",
                            Sprite = sprite,
                            FadeIn = 0.1f + (num * 0.01f)
                        },
                        new CuiRectTransformComponent
                        {
                            AnchorMin = $"{0.06666669 + (x * ident)} {0.824074 - (y * 0.1)}",
                            AnchorMax = $"{0.08541669 + (x * ident)} {0.8574073 - (y * 0.1)}"
                        }
                    }
                });

                gui.Add(new CuiElement 
                {
                    Name = "NUM" + num,
                    Parent = layerSprite,
                    Components =
                    {
                        new CuiTextComponent
                        {
                            Align = TextAnchor.LowerCenter,
                            Color = "1 1 1 1",
                            FontSize = 15,
                            Text = $"{num + (200 * page)}"
                        },
                        new CuiRectTransformComponent
                        {
                            AnchorMin = $"{0.06666669 + (x * ident)} {0.7888888 - (y * 0.1)}",
                            AnchorMax = $"{0.08541669 + (x * ident)} {0.8148166 - (y * 0.1)}"
                        },
                        new CuiOutlineComponent
                        {
                            Color = HexToRustFormat("#000000AE"),
                            Distance = "0.5 0.5"
                        }
                    }
                });

                gui.Add(new CuiButton
                {
                    Button =
                    {
                        Command = $"puts Sprite : {sprite}",
                        Color = "0 0 0 0"
                    },
                    Text =
                    {
                        Text = " "
                    },
                    RectTransform =
                    {
                        AnchorMin = "0 0",
                        AnchorMax = "1 1"
                    }
                }, "Sprite" + num, "SendSprite" + num);

                num++;
                x++;
            }

            CuiHelper.AddUi(player, gui);
        }

        #endregion

        #region [Hooks] / [Крюки] 

        public static List<KeyValuePair<string, T>> FindAll<T>(string folder) where T : UnityEngine.Object => FileSystem
            .FindAll(folder).Where(filePath => FileSystem.Backend.Load<T>(filePath) != null).Select(filePath =>
                new KeyValuePair<string, T>(filePath, FileSystem.Backend.Load<T>(filePath))).ToList();

        private List<string> Sprites = new List<string>
        {"assets/bundled/prefabs/fx/lightning/fx-lightning.png",
            "assets/bundled/prefabs/fx/lightning/fx-lightning2.png",
            "assets/bundled/prefabs/fx/lightning/fx-lightning3.png",
            "assets/bundled/prefabs/fx/lightning/fx-lightning4.png",
            "assets/content/effects/muzzleflashes/muzzle_flash-cross.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-front-3x3.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-ring.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-side-1x2.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-side-1x4.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-t.tga",
            "assets/content/effects/muzzleflashes/muzzle_flash-v.tga",
            "assets/content/effects/muzzleflashes/muzzle_smoketrail.psd",
            "assets/content/image effects/lens dirt/lensdirt1.png",
            "assets/content/image effects/lens dirt/lensdirt10.png",
            "assets/content/image effects/lens dirt/lensdirt11.png",
            "assets/content/image effects/lens dirt/lensdirt12.png",
            "assets/content/image effects/lens dirt/lensdirt13.png",
            "assets/content/image effects/lens dirt/lensdirt14.png",
            "assets/content/image effects/lens dirt/lensdirt15.png",
            "assets/content/image effects/lens dirt/lensdirt16.png",
            "assets/content/image effects/lens dirt/lensdirt2.png",
            "assets/content/image effects/lens dirt/lensdirt3.png",
            "assets/content/image effects/lens dirt/lensdirt4.png",
            "assets/content/image effects/lens dirt/lensdirt5.png",
            "assets/content/image effects/lens dirt/lensdirt6.png",
            "assets/content/image effects/lens dirt/lensdirt7.png",
            "assets/content/image effects/lens dirt/lensdirt8.png",
            "assets/content/image effects/lens dirt/lensdirt9.png",
            "assets/content/materials/highlight.png",
            "assets/content/textures/generic/fulltransparent.tga",
            "assets/content/ui/developer/developmentskin/devpanelbg.png",
            "assets/content/ui/developer/developmentskin/devtab-active.png",
            "assets/content/ui/developer/developmentskin/devtab-bright.png",
            "assets/content/ui/developer/developmentskin/devtab-normal.png",
            "assets/content/ui/facepunch-darkbg.png",
            "assets/content/ui/gameui/compass/alpha_mask.png",
            "assets/content/ui/gameui/compass/compass_strip.png",
            "assets/content/ui/gameui/compass/compass_strip_hd.png",
            "assets/content/ui/gameui/ui.crosshair.circle.png",
            "assets/content/ui/gameui/underlays/ui.damage.directional.normal.tga",
            "assets/content/ui/hypnotized.png",
            "assets/content/ui/menuui/rustlogo-blurred.png",
            "assets/content/ui/menuui/rustlogo-normal-transparent.png",
            "assets/content/ui/menuui/ui.loading.logo.tga",
            "assets/content/ui/menuui/ui.logo.big.png",
            "assets/content/ui/menuui/ui.menu.logo.png",
            "assets/content/ui/menuui/ui.menu.news.missingbackground.jpg",
            "assets/content/ui/menuui/ui.menu.rateus.background.png",
            "assets/content/ui/overlay_binocular.png",
            "assets/content/ui/overlay_bleeding.png",
            "assets/content/ui/overlay_bleeding_height.tga",
            "assets/content/ui/overlay_bleeding_normal.tga",
            "assets/content/ui/overlay_freezing.png",
            "assets/content/ui/overlay_goggle.png",
            "assets/content/ui/overlay_helmet_slit.png",
            "assets/content/ui/overlay_poisoned.png",
            "assets/content/ui/overlay_scope_1.png",
            "assets/content/ui/overlay_scope_2.png",
            "assets/content/ui/tiledpatterns/circles.png",
            "assets/content/ui/tiledpatterns/stripe_reallythick.png",
            "assets/content/ui/tiledpatterns/stripe_slight.png",
            "assets/content/ui/tiledpatterns/stripe_slight_thick.png",
            "assets/content/ui/tiledpatterns/stripe_thick.png",
            "assets/content/ui/tiledpatterns/stripe_thin.png",
            "assets/content/ui/tiledpatterns/swirl_pattern.png",
            "assets/content/ui/ui.background.gradient.psd",
            "assets/content/ui/ui.background.tile.psd",
            "assets/content/ui/ui.background.tiletex.psd",
            "assets/content/ui/ui.background.transparent.linear.psd",
            "assets/content/ui/ui.background.transparent.linearltr.tga",
            "assets/content/ui/ui.background.transparent.radial.psd",
            "assets/content/ui/ui.icon.rust.png",
            "assets/content/ui/ui.serverimage.default.psd",
            "assets/content/ui/ui.spashscreen.psd",
            "assets/content/ui/ui.white.tga",
            "assets/icons/add.png",
            "assets/icons/ammunition.png",
            "assets/icons/arrow_right.png",
            "assets/icons/authorize.png",
            "assets/icons/bite.png",
            "assets/icons/bleeding.png",
            "assets/icons/blueprint.png",
            "assets/icons/blueprint_underlay.png",
            "assets/icons/blunt.png",
            "assets/icons/bp-lock.png",
            "assets/icons/broadcast.png",
            "assets/icons/build/stairs.png",
            "assets/icons/build/wall.doorway.door.png",
            "assets/icons/build/wall.window.bars.png",
            "assets/icons/bullet.png",
            "assets/icons/cargo_ship_body.png",
            "assets/icons/cart.png",
            "assets/icons/change_code.png",
            "assets/icons/check.png",
            "assets/icons/chinook_map_blades.png",
            "assets/icons/chinook_map_body.png",
            "assets/icons/circle_closed.png",
            "assets/icons/circle_closed_toedge.png",
            "assets/icons/circle_gradient.png",
            "assets/icons/circle_gradient_white.png", 
            "assets/icons/circle_open.png",
            "assets/icons/clear.png",
            "assets/icons/clear_list.png",
            "assets/icons/close.png",
            "assets/icons/close_door.png",
            "assets/icons/clothing.png",
            "assets/icons/cold.png",
            "assets/icons/community_servers.png",
            "assets/icons/connection.png",
            "assets/icons/construction.png",
            "assets/icons/cooking.png",
            "assets/icons/crate.png",
            "assets/icons/cup_water.png",
            "assets/icons/cursor-hand.png",
            "assets/icons/deauthorize.png",
            "assets/icons/demolish.png",
            "assets/icons/demolish_cancel.png",
            "assets/icons/demolish_immediate.png",
            "assets/icons/discord 1.png",
            "assets/icons/discord.png",
            "assets/icons/download.png",
            "assets/icons/drop.png",
            "assets/icons/drowning.png",
            "assets/icons/eat.png",
            "assets/icons/electric.png",
            "assets/icons/embrella.png",
            "assets/icons/enter.png",
            "assets/icons/examine.png",
            "assets/icons/exit.png",
            "assets/icons/explosion.png",
            "assets/icons/explosion_sprite.png",
            "assets/icons/extinguish.png",
            "assets/icons/facebook-box.png",
            "assets/icons/facebook.png",
            "assets/icons/facepunch.png",
            "assets/icons/fall.png",
            "assets/icons/favourite_servers.png",
            "assets/icons/file.png",
            "assets/icons/flags/af.png",
            "assets/icons/flags/ar.png",
            "assets/icons/flags/ca.png",
            "assets/icons/flags/cs.png",
            "assets/icons/flags/da.png",
            "assets/icons/flags/de.png",
            "assets/icons/flags/el.png",
            "assets/icons/flags/en-pt.png",
            "assets/icons/flags/en.png",
            "assets/icons/flags/es-es.png",
            "assets/icons/flags/fi.png",
            "assets/icons/flags/fr.png",
            "assets/icons/flags/he.png",
            "assets/icons/flags/hu.png",
            "assets/icons/flags/it.png",
            "assets/icons/flags/ja.png",
            "assets/icons/flags/ko.png",
            "assets/icons/flags/nl.png",
            "assets/icons/flags/no.png",
            "assets/icons/flags/pl.png",
            "assets/icons/flags/pt-br.png",
            "assets/icons/flags/pt-pt.png",
            "assets/icons/flags/ro.png",
            "assets/icons/flags/ru.png",
            "assets/icons/flags/sr.png",
            "assets/icons/flags/sv-se.png",
            "assets/icons/flags/tr.png",
            "assets/icons/flags/uk.png",
            "assets/icons/flags/vi.png",
            "assets/icons/flags/zh-cn.png",
            "assets/icons/flags/zh-tw.png",
            "assets/icons/fog.png",
            "assets/icons/folder.png",
            "assets/icons/folder_up.png",
            "assets/icons/fork_and_spoon.png",
            "assets/icons/freezing.png",
            "assets/icons/friends_servers.png",
            "assets/icons/gear.png",
            "assets/icons/grenade.png",
            "assets/icons/greyout.png",
            "assets/icons/greyout_large.png",
            "assets/icons/health.png",
            "assets/icons/history_servers.png",
            "assets/icons/home.png",
            "assets/icons/horse_ride.png",
            "assets/icons/hot.png",
            "assets/icons/ignite.png",
            "assets/icons/info.png",
            "assets/icons/inventory.png",
            "assets/icons/isbroken.png",
            "assets/icons/iscooking.png",
            "assets/icons/isloading.png",
            "assets/icons/isonfire.png",
            "assets/icons/joystick.png",
            "assets/icons/key.png",
            "assets/icons/knock_door.png",
            "assets/icons/lan_servers.png",
            "assets/icons/level.png",
            "assets/icons/level_metal.png",
            "assets/icons/level_stone.png",
            "assets/icons/level_top.png",
            "assets/icons/level_wood.png",
            "assets/icons/lick.png",
            "assets/icons/light_campfire.png",
            "assets/icons/lightbulb.png",
            "assets/icons/loading.png",
            "assets/icons/lock.png",
            "assets/icons/loot.png",
            "assets/icons/maparrow.png",
            "assets/icons/market.png",
            "assets/icons/maximum.png",
            "assets/icons/meat.png",
            "assets/icons/medical.png",
            "assets/icons/menu_dots.png",
            "assets/icons/modded_servers.png",
            "assets/icons/occupied.png",
            "assets/icons/open.png",
            "assets/icons/open_door.png", 
            "assets/icons/peace.png",
            "assets/icons/pickup.png",
            "assets/icons/pills.png",
            "assets/icons/player_assist.png",
            "assets/icons/player_carry.png",
            "assets/icons/player_loot.png",
            "assets/icons/poison.png",
            "assets/icons/portion.png",
            "assets/icons/power.png",
            "assets/icons/press.png",
            "assets/icons/radiation.png",
            "assets/icons/rain.png",
            "assets/icons/reddit.png",
            "assets/icons/refresh.png",
            "assets/icons/resource.png",
            "assets/icons/rotate.png",
            "assets/icons/rust.png",
            "assets/icons/save.png",
            "assets/icons/shadow.png",
            "assets/icons/sign.png",
            "assets/icons/slash.png",
            "assets/icons/sleeping.png",
            "assets/icons/sleepingbag.png",
            "assets/icons/square.png",
            "assets/icons/square_gradient.png",
            "assets/icons/stab.png",
            "assets/icons/star.png",
            "assets/icons/steam.png",
            "assets/icons/steam_inventory.png",
            "assets/icons/stopwatch.png",
            "assets/icons/store.png",
            "assets/icons/study.png",
            "assets/icons/subtract.png",
            "assets/icons/target.png",
            "assets/icons/tools.png",
            "assets/icons/translate.png",
            "assets/icons/traps.png",
            "assets/icons/triangle.png",
            "assets/icons/tweeter.png",
            "assets/icons/twitter 1.png",
            "assets/icons/twitter.png",
            "assets/icons/unlock.png",
            "assets/icons/upgrade.png",
            "assets/icons/voice.png",
            "assets/icons/vote_down.png",
            "assets/icons/vote_up.png",
            "assets/icons/warning.png",
            "assets/icons/warning_2.png",
            "assets/icons/weapon.png",
            "assets/icons/web.png",
            "assets/icons/wet.png",
            "assets/icons/workshop.png",
            "assets/icons/xp.png",
            "assets/prefabs/building core/floor.frame/floor.frame.png",
            "assets/prefabs/building core/floor.triangle/floor.triangle.png",
            "assets/prefabs/building core/floor/floor.png",
            "assets/prefabs/building core/foundation.steps/foundation.steps.png",
            "assets/prefabs/building core/foundation.triangle/foundation.triangle.png",
            "assets/prefabs/building core/foundation/foundation.png",
            "assets/prefabs/building core/roof/roof.png",
            "assets/prefabs/building core/stairs.l/stairs_l.png",
            "assets/prefabs/building core/stairs.u/stairs_u.png",
            "assets/prefabs/building core/wall.doorway/wall.doorway.png",
            "assets/prefabs/building core/wall.frame/wall.frame.png",
            "assets/prefabs/building core/wall.half/wall.half.png",
            "assets/prefabs/building core/wall.low/wall.third.png",
            "assets/prefabs/building core/wall.window/wall.window.png",
            "assets/prefabs/building core/wall/wall.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform0.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform0_grey.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform1.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform1_grey.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform2.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bossform2_grey.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet1.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet2.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet3.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet4.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet5.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet6.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet7.png",
            "assets/prefabs/misc/chippy arcade/chippyart/bullet8.png",
            "assets/prefabs/misc/chippy arcade/chippyart/chippy.png",
            "assets/prefabs/misc/chippy arcade/chippyart/chippy_grey.png",
            "assets/prefabs/misc/chippy arcade/chippyart/chippylogo.png",
            "assets/prefabs/misc/chippy arcade/chippyart/cloud1.png",
            "assets/prefabs/misc/chippy arcade/chippyart/cloud2.png",
            "assets/prefabs/misc/chippy arcade/chippyart/cloud3.png",
            "assets/prefabs/misc/chippy arcade/chippyart/cloud4.png",
            "assets/prefabs/misc/chippy arcade/chippyart/cloud5.png",
            "assets/prefabs/misc/chippy arcade/chippyart/grid.png",
            "assets/prefabs/misc/chippy arcade/chippyart/shield.png",
            "assets/prefabs/misc/chippy arcade/chippyart/shield_pickup.png",
            "assets/prefabs/misc/chippy arcade/chippyart/star1.png",
            "assets/prefabs/misc/chippy arcade/chippyart/star2.png",
            "assets/standard assets/effects/imageeffects/textures/color correction ramp.png",
            "assets/standard assets/effects/imageeffects/textures/contrastenhanced3d16.png",
            "assets/standard assets/effects/imageeffects/textures/grayscale ramp.png",
            "assets/standard assets/effects/imageeffects/textures/hexshape.psd",
            "assets/standard assets/effects/imageeffects/textures/motionblurjitter.png",
            "assets/standard assets/effects/imageeffects/textures/neutral3d16.png",
            "assets/standard assets/effects/imageeffects/textures/noise.png",
            "assets/standard assets/effects/imageeffects/textures/noiseandgrain.png",
            "assets/standard assets/effects/imageeffects/textures/noiseeffectgrain.png",
            "assets/standard assets/effects/imageeffects/textures/noiseeffectscratch.png",
            "assets/standard assets/effects/imageeffects/textures/randomvectors.png",
            "assets/standard assets/effects/imageeffects/textures/sphereshape.psd",
            "assets/standard assets/effects/imageeffects/textures/vignettemask.png",
            "assets/scenes/prefabs/airfield/airfield_1/alphatexture.png",
            "assets/scenes/prefabs/airfield/airfield_1/blendtexture.png",
            "assets/scenes/prefabs/airfield/airfield_1/heighttexture.png",
            "assets/scenes/prefabs/airfield/airfield_1/normaltexture.png",
            "assets/scenes/prefabs/airfield/airfield_1/splattexture0.png",
            "assets/scenes/prefabs/airfield/airfield_1/splattexture1.png",
            "assets/scenes/prefabs/airfield/airfield_1/topologytexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/alphatexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/bandit_town_biometexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/bandit_town_splat_texture_0.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/bandit_town_splat_texture_1.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/biometexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/blendtexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/heighttexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/normaltexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/splattexture0.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/splattexture1.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/topologytexture.png",
            "assets/scenes/prefabs/bandid_town/bandit_town/watertexture.png",
            "assets/scenes/prefabs/canyons/canyon_1/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_1/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_1/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_1/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_1/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_1/topologytexture.png",
            "assets/scenes/prefabs/canyons/canyon_2/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_2/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_2/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_2/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_2/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_2/topologytexture.png",
            "assets/scenes/prefabs/canyons/canyon_3/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_3/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_3/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_3/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_3/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_3/topologytexture.png",
            "assets/scenes/prefabs/canyons/canyon_4/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_4/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_4/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_4/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_4/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_4/topologytexture.png",
            "assets/scenes/prefabs/canyons/canyon_5/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_5/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_5/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_5/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_5/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_5/topologytexture.png",
            "assets/scenes/prefabs/canyons/canyon_6/alphatexture.png",
            "assets/scenes/prefabs/canyons/canyon_6/heighttexture.png",
            "assets/scenes/prefabs/canyons/canyon_6/normaltexture.png",
            "assets/scenes/prefabs/canyons/canyon_6/splattexture0.png",
            "assets/scenes/prefabs/canyons/canyon_6/splattexture1.png",
            "assets/scenes/prefabs/canyons/canyon_6/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_large_hard/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_large_hard/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_large_hard/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_large_hard/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_large_hard/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_large_hard/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_large_hard/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_large_medium/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_large_medium/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_large_medium/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_large_medium/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_large_medium/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_large_medium/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_large_medium/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_large_sewers_hard/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_medium_easy/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_medium_hard/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/biometexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_medium_medium/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_small_easy/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_small_easy/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_small_easy/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_small_easy/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_small_easy/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_small_easy/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_small_easy/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_small_hard/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_small_hard/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_small_hard/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_small_hard/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_small_hard/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_small_hard/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_small_hard/topologytexture.png",
            "assets/scenes/prefabs/cave/cave_small_medium/alphatexture.png",
            "assets/scenes/prefabs/cave/cave_small_medium/blendtexture.png",
            "assets/scenes/prefabs/cave/cave_small_medium/heighttexture.png",
            "assets/scenes/prefabs/cave/cave_small_medium/normaltexture.png",
            "assets/scenes/prefabs/cave/cave_small_medium/splattexture0.png",
            "assets/scenes/prefabs/cave/cave_small_medium/splattexture1.png",
            "assets/scenes/prefabs/cave/cave_small_medium/topologytexture.png",
            "assets/scenes/prefabs/compound/compound/alphatexture.png",
            "assets/scenes/prefabs/compound/compound/blendtexture.png",
            "assets/scenes/prefabs/compound/compound/heighttexture.png",
            "assets/scenes/prefabs/compound/compound/normaltexture.png",
            "assets/scenes/prefabs/compound/compound/splattexture0.png",
            "assets/scenes/prefabs/compound/compound/splattexture1.png",
            "assets/scenes/prefabs/compound/compound/topologytexture.png",
            "assets/scenes/prefabs/excavator/excavator/alphatexture.png",
            "assets/scenes/prefabs/excavator/excavator/biometexture.png",
            "assets/scenes/prefabs/excavator/excavator/blendtexture.png",
            "assets/scenes/prefabs/excavator/excavator/heighttexture.png",
            "assets/scenes/prefabs/excavator/excavator/normaltexture.png",
            "assets/scenes/prefabs/excavator/excavator/splattexture0.png",
            "assets/scenes/prefabs/excavator/excavator/splattexture1.png",
            "assets/scenes/prefabs/excavator/excavator/terrain_clean_biometexture.png",
            "assets/scenes/prefabs/excavator/excavator/terrain_clean_splat_texture_0.png",
            "assets/scenes/prefabs/excavator/excavator/terrain_clean_splat_texture_1.png",
            "assets/scenes/prefabs/excavator/excavator/terrain_clean_terrain_height.png",
            "assets/scenes/prefabs/excavator/excavator/topologytexture.png",
            "assets/scenes/prefabs/excavator/excavator/watertexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/alphatexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/biometexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/blendtexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/heighttexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/normaltexture.png",
            "assets/scenes/prefabs/gas_station/gas_station/splattexture0.png",
            "assets/scenes/prefabs/gas_station/gas_station/splattexture1.png",
            "assets/scenes/prefabs/gas_station/gas_station/topologytexture.png",
            "assets/scenes/prefabs/harbor/harbor_1/alphatexture.png",
            "assets/scenes/prefabs/harbor/harbor_1/blendtexture.png",
            "assets/scenes/prefabs/harbor/harbor_1/heighttexture.png",
            "assets/scenes/prefabs/harbor/harbor_1/normaltexture.png",
            "assets/scenes/prefabs/harbor/harbor_1/splattexture0.png",
            "assets/scenes/prefabs/harbor/harbor_1/splattexture1.png",
            "assets/scenes/prefabs/harbor/harbor_1/topologytexture.png",
            "assets/scenes/prefabs/harbor/harbor_2/alphatexture.png",
            "assets/scenes/prefabs/harbor/harbor_2/blendtexture.png",
            "assets/scenes/prefabs/harbor/harbor_2/heighttexture.png",
            "assets/scenes/prefabs/harbor/harbor_2/normaltexture.png",
            "assets/scenes/prefabs/harbor/harbor_2/splattexture0.png",
            "assets/scenes/prefabs/harbor/harbor_2/splattexture1.png",
            "assets/scenes/prefabs/harbor/harbor_2/topologytexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/alphatexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/biometexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/blendtexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/heighttexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/normaltexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/splattexture0.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/splattexture1.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/topologytexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_1/watertexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/alphatexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/biometexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/blendtexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/heighttexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/normaltexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/splattexture0.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/splattexture1.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_2/topologytexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/alphatexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/biometexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/blendtexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/heighttexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/normaltexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/splattexture0.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/splattexture1.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/topologytexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_3/watertexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/alphatexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/biometexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/blendtexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/heighttexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/normaltexture.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/splattexture0.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/splattexture1.png",
            "assets/scenes/prefabs/ice lakes/ice_lake_4/topologytexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/alphatexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/biometexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/blendtexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/heighttexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/normaltexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/splattexture0.png",
            "assets/scenes/prefabs/junkyard/junkyard/splattexture1.png",
            "assets/scenes/prefabs/junkyard/junkyard/topologytexture.png",
            "assets/scenes/prefabs/junkyard/junkyard/watertexture.png",
            "assets/scenes/prefabs/launch site/launchsite/alphatexture.png",
            "assets/scenes/prefabs/launch site/launchsite/biometexture.png",
            "assets/scenes/prefabs/launch site/launchsite/blendtexture.png",
            "assets/scenes/prefabs/launch site/launchsite/heighttexture.png",
            "assets/scenes/prefabs/launch site/launchsite/normaltexture.png",
            "assets/scenes/prefabs/launch site/launchsite/splattexture0.png",
            "assets/scenes/prefabs/launch site/launchsite/splattexture1.png",
            "assets/scenes/prefabs/launch site/launchsite/topologytexture.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/alphatexture.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/blendtexture.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/heighttexture.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/normaltexture.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/splattexture0.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/splattexture1.png",
            "assets/scenes/prefabs/military tunnels/military_tunnel_1/topologytexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/alphatexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/biometexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/blendtexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/heighttexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/normaltexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/splattexture0.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/splattexture1.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/topologytexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_a/watertexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/alphatexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/biometexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/blendtexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/heighttexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/normaltexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/splattexture0.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/splattexture1.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_b/topologytexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/alphatexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/biometexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/blendtexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/heighttexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/normaltexture.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/splattexture0.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/splattexture1.png",
            "assets/scenes/prefabs/mining quarries/mining_quarry_c/topologytexture.png",
            "assets/scenes/prefabs/mining/warehouse/alphatexture.png",
            "assets/scenes/prefabs/mining/warehouse/blendtexture.png",
            "assets/scenes/prefabs/mining/warehouse/heighttexture.png",
            "assets/scenes/prefabs/mining/warehouse/normaltexture.png",
            "assets/scenes/prefabs/mining/warehouse/splattexture0.png",
            "assets/scenes/prefabs/mining/warehouse/splattexture1.png",
            "assets/scenes/prefabs/mining/warehouse/topologytexture.png",
            "assets/scenes/prefabs/mountain/mountain_1/alphatexture.png",
            "assets/scenes/prefabs/mountain/mountain_1/biometexture.png",
            "assets/scenes/prefabs/mountain/mountain_1/heighttexture.png",
            "assets/scenes/prefabs/mountain/mountain_1/normaltexture.png",
            "assets/scenes/prefabs/mountain/mountain_1/splattexture0.png",
            "assets/scenes/prefabs/mountain/mountain_1/splattexture1.png",
            "assets/scenes/prefabs/mountain/mountain_1/topologytexture.png",
            "assets/scenes/prefabs/mountain/mountain_2/alphatexture.png",
            "assets/scenes/prefabs/mountain/mountain_2/biometexture.png",
            "assets/scenes/prefabs/mountain/mountain_2/heighttexture.png",
            "assets/scenes/prefabs/mountain/mountain_2/normaltexture.png",
            "assets/scenes/prefabs/mountain/mountain_2/splattexture0.png",
            "assets/scenes/prefabs/mountain/mountain_2/splattexture1.png",
            "assets/scenes/prefabs/mountain/mountain_2/topologytexture.png",
            "assets/scenes/prefabs/mountain/mountain_3/alphatexture.png",
            "assets/scenes/prefabs/mountain/mountain_3/biometexture.png",
            "assets/scenes/prefabs/mountain/mountain_3/heighttexture.png",
            "assets/scenes/prefabs/mountain/mountain_3/normaltexture.png",
            "assets/scenes/prefabs/mountain/mountain_3/splattexture0.png",
            "assets/scenes/prefabs/mountain/mountain_3/splattexture1.png",
            "assets/scenes/prefabs/mountain/mountain_3/topologytexture.png",
            "assets/scenes/prefabs/mountain/mountain_4/alphatexture.png",
            "assets/scenes/prefabs/mountain/mountain_4/biometexture.png",
            "assets/scenes/prefabs/mountain/mountain_4/heighttexture.png",
            "assets/scenes/prefabs/mountain/mountain_4/normaltexture.png",
            "assets/scenes/prefabs/mountain/mountain_4/splattexture0.png",
            "assets/scenes/prefabs/mountain/mountain_4/splattexture1.png",
            "assets/scenes/prefabs/mountain/mountain_4/topologytexture.png",
            "assets/scenes/prefabs/mountain/mountain_5/alphatexture.png",
            "assets/scenes/prefabs/mountain/mountain_5/biometexture.png",
            "assets/scenes/prefabs/mountain/mountain_5/heighttexture.png",
            "assets/scenes/prefabs/mountain/mountain_5/normaltexture.png",
            "assets/scenes/prefabs/mountain/mountain_5/splattexture0.png",
            "assets/scenes/prefabs/mountain/mountain_5/splattexture1.png",
            "assets/scenes/prefabs/mountain/mountain_5/topologytexture.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/alphatexture.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/heighttexture.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/normaltexture.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/splattexture0.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/splattexture1.png",
            "assets/scenes/prefabs/overgrowth/overgrowth_dressing/topologytexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/alphatexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/blendtexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/heighttexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/normaltexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/splattexture0.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/splattexture1.png",
            "assets/scenes/prefabs/power substations/power_sub_big_1/topologytexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/alphatexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/biometexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/blendtexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/heighttexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/normaltexture.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/splattexture0.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/splattexture1.png",
            "assets/scenes/prefabs/power substations/power_sub_big_2/topologytexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/alphatexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/biometexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/blendtexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/heighttexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/normaltexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/splattexture0.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/splattexture1.png",
            "assets/scenes/prefabs/power substations/power_sub_small_1/topologytexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/alphatexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/biometexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/blendtexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/heighttexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/normaltexture.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/splattexture0.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/splattexture1.png",
            "assets/scenes/prefabs/power substations/power_sub_small_2/topologytexture.png",
            "assets/scenes/prefabs/powerplant/powerplant/alphatexture.png",
            "assets/scenes/prefabs/powerplant/powerplant/blendtexture.png",
            "assets/scenes/prefabs/powerplant/powerplant/heighttexture.png",
            "assets/scenes/prefabs/powerplant/powerplant/normaltexture.png",
            "assets/scenes/prefabs/powerplant/powerplant/splattexture0.png",
            "assets/scenes/prefabs/powerplant/powerplant/splattexture1.png",
            "assets/scenes/prefabs/powerplant/powerplant/topologytexture.png",
            "assets/scenes/prefabs/production/satellite_dish/alphatexture.png",
            "assets/scenes/prefabs/production/satellite_dish/blendtexture.png",
            "assets/scenes/prefabs/production/satellite_dish/heighttexture.png",
            "assets/scenes/prefabs/production/satellite_dish/normaltexture.png",
            "assets/scenes/prefabs/production/satellite_dish/splattexture0.png",
            "assets/scenes/prefabs/production/satellite_dish/splattexture1.png",
            "assets/scenes/prefabs/production/satellite_dish/topologytexture.png",
            "assets/scenes/prefabs/production/sphere_tank/alphatexture.png",
            "assets/scenes/prefabs/production/sphere_tank/blendtexture.png",
            "assets/scenes/prefabs/production/sphere_tank/heighttexture.png",
            "assets/scenes/prefabs/production/sphere_tank/normaltexture.png",
            "assets/scenes/prefabs/production/sphere_tank/splattexture0.png",
            "assets/scenes/prefabs/production/sphere_tank/splattexture1.png",
            "assets/scenes/prefabs/production/sphere_tank/topologytexture.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/alphatexture.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/blendtexture.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/heighttexture.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/normaltexture.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/splattexture0.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/splattexture1.png",
            "assets/scenes/prefabs/radtown/radtown_small_3/topologytexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/alphatexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/biometexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/blendtexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/heighttexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/normaltexture.png",
            "assets/scenes/prefabs/supermarket/supermarket/splattexture0.png",
            "assets/scenes/prefabs/supermarket/supermarket/splattexture1.png",
            "assets/scenes/prefabs/supermarket/supermarket/topologytexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/alphatexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/blendtexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/heighttexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/normaltexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/splattexture0.tga",
            "assets/scenes/prefabs/swamps/swamp_a/splattexture1.tga",
            "assets/scenes/prefabs/swamps/swamp_a/swamp_a_splats_biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/swamp_a_splats_splat_texture_0.png",
            "assets/scenes/prefabs/swamps/swamp_a/swamp_a_splats_splat_texture_1.png",
            "assets/scenes/prefabs/swamps/swamp_a/topologytexture.png",
            "assets/scenes/prefabs/swamps/swamp_a/watertexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/alphatexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/blendtexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/heighttexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/normaltexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/splattexture0.png",
            "assets/scenes/prefabs/swamps/swamp_b/splattexture1.png",
            "assets/scenes/prefabs/swamps/swamp_b/swamp_b_splats_biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/swamp_b_splats_splat_texture_0.png",
            "assets/scenes/prefabs/swamps/swamp_b/swamp_b_splats_splat_texture_1.png",
            "assets/scenes/prefabs/swamps/swamp_b/topologytexture.png",
            "assets/scenes/prefabs/swamps/swamp_b/watertexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/alphatexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/blendtexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/heighttexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/normaltexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/splattexture0.png",
            "assets/scenes/prefabs/swamps/swamp_c/splattexture1.png",
            "assets/scenes/prefabs/swamps/swamp_c/swamp_c_splats_biometexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/swamp_c_splats_splat_texture_0.png",
            "assets/scenes/prefabs/swamps/swamp_c/swamp_c_splats_splat_texture_1.png",
            "assets/scenes/prefabs/swamps/swamp_c/topologytexture.png",
            "assets/scenes/prefabs/swamps/swamp_c/watertexture.png",
            "assets/scenes/prefabs/trainyard/trainyard/alphatexture.png",
            "assets/scenes/prefabs/trainyard/trainyard/blendtexture.png",
            "assets/scenes/prefabs/trainyard/trainyard/heighttexture.png",
            "assets/scenes/prefabs/trainyard/trainyard/normaltexture.png",
            "assets/scenes/prefabs/trainyard/trainyard/splattexture0.png",
            "assets/scenes/prefabs/trainyard/trainyard/splattexture1.png",
            "assets/scenes/prefabs/trainyard/trainyard/topologytexture.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/alphatexture.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/blendtexture.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/heighttexture.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/normaltexture.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/splattexture0.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/splattexture1.png",
            "assets/scenes/prefabs/water treatment plant/water_treatment_plant/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/alphatexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/biometexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/blendtexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/heighttexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/normaltexture.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/splattexture0.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/splattexture1.png",
            "assets/scenes/prefabs/water wells/water_well_a/water_well_a/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/alphatexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/biometexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/blendtexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/heighttexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/normaltexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/splattexture0.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/splattexture1.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_b/water_well_b/watertexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/alphatexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/biometexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/blendtexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/heighttexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/normaltexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/splattexture0.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/splattexture1.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_c/water_well_c/watertexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/alphatexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/biometexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/blendtexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/heighttexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/normaltexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/splattexture0.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/splattexture1.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_d/water_well_d/watertexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/alphatexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/biometexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/blendtexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/heighttexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/normaltexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/splattexture0.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/splattexture1.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/topologytexture.png",
            "assets/scenes/prefabs/water wells/water_well_e/water_well_e/watertexture.png",
            "assets/scenes/release/craggyisland/alphatexture.png",
            "assets/scenes/release/craggyisland/biometexture.png",
            "assets/scenes/release/craggyisland/distancetexture.png",
            "assets/scenes/release/craggyisland/heighttexture.png",
            "assets/scenes/release/craggyisland/normaltexture.png",
            "assets/scenes/release/craggyisland/splattexture0.png",
            "assets/scenes/release/craggyisland/splattexture1.png",
            "assets/scenes/release/craggyisland/topologytexture.png",
            "assets/scenes/release/craggyisland/watertexture.png",
            "assets/scenes/release/hapisislandterrain/_normal.png",
            "assets/scenes/release/hapisislandterrain/_normal_cleaned.png",
            "assets/scenes/release/hapisislandterrain/alphatexture.png",
            "assets/scenes/release/hapisislandterrain/biometexture.png",
            "assets/scenes/release/hapisislandterrain/heighttexture.png",
            "assets/scenes/release/hapisislandterrain/legacyterrain_normal.png",
            "assets/scenes/release/hapisislandterrain/normaltexture.png",
            "assets/scenes/release/hapisislandterrain/splattexture0.png",
            "assets/scenes/release/hapisislandterrain/splattexture1.png",
            "assets/scenes/release/hapisislandterrain/topologytexture.png",
            "assets/scenes/release/hapisislandterrain/watertexture.png",
            "assets/scenes/release/savasisland/alphatexture.png",
            "assets/scenes/release/savasisland/biometexture.png",
            "assets/scenes/release/savasisland/heighttexture.png",
            "assets/scenes/release/savasisland/normaltexture.png",
            "assets/scenes/release/savasisland/splattexture0.png",
            "assets/scenes/release/savasisland/splattexture1.png",
            "assets/scenes/release/savasisland/topologytexture.png",
            "assets/scenes/release/savasisland/watertexture.png",
            "assets/scenes/test/bradleylaunchtest/alphatexture.png",
            "assets/scenes/test/bradleylaunchtest/biometexture.png",
            "assets/scenes/test/bradleylaunchtest/heighttexture.png",
            "assets/scenes/test/bradleylaunchtest/normaltexture.png",
            "assets/scenes/test/bradleylaunchtest/splattexture0.png",
            "assets/scenes/test/bradleylaunchtest/splattexture1.png",
            "assets/scenes/test/bradleylaunchtest/topologytexture.png",
            "assets/scenes/test/bradleylaunchtest/watertexture.png",
            "assets/scenes/test/playgroundterrain/alphatexture.png",
            "assets/scenes/test/playgroundterrain/biometexture.png",
            "assets/scenes/test/playgroundterrain/heighttexture.png",
            "assets/scenes/test/playgroundterrain/normaltexture.png",
            "assets/scenes/test/playgroundterrain/splattexture0.png",
            "assets/scenes/test/playgroundterrain/splattexture1.png",
            "assets/scenes/test/playgroundterrain/topologytexture.png",
            "assets/scenes/test/playgroundterrain/watertexture.png",
            "assets/scenes/test/stealthbox/alphatexture.png",
            "assets/scenes/test/stealthbox/biometexture.png",
            "assets/scenes/test/stealthbox/heighttexture.png",
            "assets/scenes/test/stealthbox/normaltexture.png",
            "assets/scenes/test/stealthbox/splattexture0.png",
            "assets/scenes/test/stealthbox/splattexture1.png",
            "assets/scenes/test/stealthbox/topologytexture.png",
            "assets/scenes/test/testlevelterrain/alphatexture.png",
            "assets/scenes/test/testlevelterrain/biometexture.png",
            "assets/scenes/test/testlevelterrain/heighttexture.png",
            "assets/scenes/test/testlevelterrain/normaltexture.png",
            "assets/scenes/test/testlevelterrain/splattexture0.png",
            "assets/scenes/test/testlevelterrain/splattexture1.png",
            "assets/scenes/test/testlevelterrain/topologytexture.png",
            "assets/scenes/test/testlevelterrain/watertexture.png",
            "assets/scenes/test/waterlevelterrain/alphatexture.png",
            "assets/scenes/test/waterlevelterrain/biometexture.png",
            "assets/scenes/test/waterlevelterrain/heighttexture.png", 
            "assets/scenes/test/waterlevelterrain/normaltexture.png",
            "assets/scenes/test/waterlevelterrain/splattexture0.png",
            "assets/scenes/test/waterlevelterrain/splattexture1.png",
            "assets/scenes/test/waterlevelterrain/topologytexture.png",
            "assets/scenes/test/waterlevelterrain/watertexture.png"
        };

        void OnServerInitialized()
        {
            if (!ImageLibrary)
            {
                PrintError("На сервере не установлен плагин [ImageLibrary]");
                Interface.Oxide.UnloadPlugin(Title);
                return;
            } 

            ImageLibrary.Call("AddImage", "https://i.imgur.com/Z4hiTwZ.png", "BGSprite");
        }

        #endregion

        #region [ChatCommand] / [Чат команды]
 
        [ChatCommand("Library")]
        private void DrawUI(BasePlayer player)
        {
            if (!player) return;
            DrawUI_Library(player);
            DrawUI_Sprites(player, 0);
        }

        [ConsoleCommand("close.library")]
        private void CloseUI(ConsoleSystem.Arg args)
        {
            CuiHelper.DestroyUi(args.Player(), Layer);
        }

        [ConsoleCommand("page")]
        private void Page(ConsoleSystem.Arg args)
        {
            int page = args.Args[0].ToInt();
            DrawUI_Sprites(args.Player(), page);
        }

        [ConsoleCommand("puts")]
        private void Puts(ConsoleSystem.Arg args)
        {
            PrintWarning($"Sprite : {string.Join(" ", args.Args)}");
        }

        #endregion

        #region [Helpers] / [Вспомогательный код]

        private static string HexToRustFormat(string hex)
        {
            if (string.IsNullOrEmpty(hex))
            {
                hex = "#FFFFFFFF";
            }

            var str = hex.Trim('#');
            if (str.Length == 6)
                str += "FF";
            if (str.Length != 8)
            {
                throw new Exception(hex);
                throw new InvalidOperationException("Cannot convert a wrong format.");
            }

            var r = byte.Parse(str.Substring(0, 2), NumberStyles.HexNumber);
            var g = byte.Parse(str.Substring(2, 2), NumberStyles.HexNumber);
            var b = byte.Parse(str.Substring(4, 2), NumberStyles.HexNumber);
            var a = byte.Parse(str.Substring(6, 2), NumberStyles.HexNumber);

            Color color = new Color32(r, g, b, a);
            return string.Format("{0:F2} {1:F2} {2:F2} {3:F2}", color.r, color.g, color.b, color.a);
        }

        #endregion
    }
}